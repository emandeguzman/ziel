{{ define "main" }}
<style>
    body {
        min-width: 100vw;
        min-height: 100vh;
        margin: 0;
        border: 0;
        padding: 0;
    }
    #dialog {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
    }
    #dialog .box {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 999;
        
        padding: 2% 5%;
        box-shadow: 0 0 50px 10px rgba(0,0,0,1);
        
        background: #fff;
    }
    #dialog .buttons {
        padding: 20px 10px;
        
        display: flex;
        justify-content: center;
        column-gap: 50px;
    }
    #dialog button {
        border-radius: 50em;
        padding: .5em 2em;
    }
</style>

<canvas id="bg"  width="1920" height="1080"></canvas>
<canvas id="mid" width="1920" height="1080"></canvas>
<canvas id="fg"  width="1920" height="1080"></canvas>
<template id="template-dialog">
    <div id="dialog">
        <div class="box">
            <div id="question">Do you want to submit your answer?</div>
            <div class="buttons">
                <button type="button" id="btnYes">Yes</button>
                <button type="button" id="btnNo">No</button>
            </div>
        </div>
    </div>
</template>



<!-- <script src='{ {(resources.Get "/js/test.js").Permalink}}'></script> -->
<script src='{{(resources.Get "/js/image.js").Permalink}}'></script>
<script src='{{(resources.Get "/js/canvas.js").Permalink}}'></script>
<script src='{{(resources.Get "/js/canvasItem.js").Permalink}}'></script>
<!-- <script src='{ {(resources.Get "/js/canvasShape.js").Permalink}}'></script> -->
<script src='{{(resources.Get "/js/canvasImage.js").Permalink}}'></script>
<!-- <script src='{ {(resources.Get "/js/celestialBody.js").Permalink}}'></script> -->
<script src='{{(resources.Get "/js/intro.js"   | resources.ExecuteAsTemplate "js/intro.js"  . ).Permalink}}'></script>
<script src='{{(resources.Get "/js/lesson.js"  | resources.ExecuteAsTemplate "js/lesson.js" . ).Permalink}}'></script>
<script src='{{(resources.Get "/js/quiz1.js"   | resources.ExecuteAsTemplate "js/quiz1.js"  . ).Permalink}}'></script>
<script src='{{(resources.Get "/js/quiz2.js"   | resources.ExecuteAsTemplate "js/quiz2.js"  . ).Permalink}}'></script>

<script>
    const clientRect = document.body.getBoundingClientRect();
    const bg  = new Canvas(document.querySelector("#bg" ), clientRect.width, clientRect.height);
    const mid = new Canvas(document.querySelector("#mid"), clientRect.width, clientRect.height);
    const fg  = new Canvas(document.querySelector("#fg" ), clientRect.width, clientRect.height);
    const image = new Image();

    (async ()=>{
        await intro();
        await lesson();
        await quiz1();
        await quiz2();
        console.log("end");

    })();
</script>
{{ end }}
